<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>eitprocessing.roi_selection.gridselection &#8212; eitprocessing 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=362ab14a" />
    <link rel="stylesheet" type="text/css" href="../../../_static/nature.css?v=601dbdee" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
    <script src="../../../_static/documentation_options.js?v=d45e8c67"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">eitprocessing 0.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../eitprocessing.html" >eitprocessing</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../roi_selection.html" accesskey="U">eitprocessing.roi_selection</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">eitprocessing.roi_selection.gridselection</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for eitprocessing.roi_selection.gridselection</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">bisect</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">InitVar</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">field</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Literal</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">numpy.typing</span> <span class="kn">import</span> <span class="n">NDArray</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">ROISelection</span>


<span class="nd">@dataclass</span>
<div class="viewcode-block" id="GridSelection">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.GridSelection">[docs]</a>
<span class="k">class</span> <span class="nc">GridSelection</span><span class="p">(</span><span class="n">ROISelection</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create regions of interest by division into a grid.</span>

<span class="sd">    GridSelection allows for the creation a list of 2D arrays that can be used to divide a two- or</span>
<span class="sd">    higher-dimensional array into several regions structured in a grid. An instance of</span>
<span class="sd">    GridSelection contains information about how to subdivide an input matrix. Calling</span>
<span class="sd">    `find_grid(data)`, where data is a 2D array, results in a list of arrays with the same</span>
<span class="sd">    dimension as `data`, each representing a single region. Each resulting 2D array contains the</span>
<span class="sd">    value 0 for pixels that do not belong to the region, and the value 1 or any number between 0</span>
<span class="sd">    and 1 for pixels that (partly) belong to the region.</span>

<span class="sd">    Rows and columns at the edges of `data` that only contain NaN (not a number) values are</span>
<span class="sd">    ignored. E.g. a (32, 32) array where the first and last two rows and first and last two columns</span>
<span class="sd">    only contain NaN are split as if it is a (28, 28) array. The resulting arrays have the shape</span>
<span class="sd">    (32, 32) with the same cells as the input data containing NaN values.</span>

<span class="sd">    If the number of rows or columns can not split evenly, a row or column can be split among two</span>
<span class="sd">    regions. This behaviour is controlled by `split_rows` and `split_columns`.</span>

<span class="sd">    If `split_rows` is `False` (default), rows will not be split between two groups. A warning will</span>
<span class="sd">    be shown stating regions don&#39;t contain equal numbers of rows. The regions towards the top will</span>
<span class="sd">    be larger. E.g., when a (5, 2) array is split in two vertical regions, the first region will</span>
<span class="sd">    contain the first three rows, and the second region the last two rows.</span>

<span class="sd">    If `split_rows` is `True`, e.g. a (5, 2) array that is split in two vertical regions, the first</span>
<span class="sd">    region will contain the first two rows and half of each pixel of the third row. The second</span>
<span class="sd">    region contains half of each pixel in the third row, and the last two rows.</span>

<span class="sd">    `split_columns` has the same effect on columns as `split_rows` has on rows.</span>

<span class="sd">    Regions are ordered according to C indexing order. The `matrix_layout()` method provides a map</span>
<span class="sd">    showing how the regions are ordered.</span>

<span class="sd">    Common grids are pre-defined:</span>
<span class="sd">    - VentralAndDorsal: vertically divided into ventral and dorsal;</span>
<span class="sd">    - RightAndLeft: horizontally divided into anatomical right and left; NB: anatomical right is</span>
<span class="sd">    the left side of the matrix;</span>
<span class="sd">    - FourLayers: vertically divided into ventral, mid-ventral, mid-dorsal and dorsal;</span>
<span class="sd">    - Quadrants: vertically and horizontally divided into four quadrants.</span>

<span class="sd">    Args:</span>
<span class="sd">        v_split: The number of vertical regions. Must be 1 or larger.</span>
<span class="sd">        h_split: The number of horizontal regions. Must be 1 or larger.</span>
<span class="sd">        split_rows: Allows rows to be split over two regions.</span>
<span class="sd">        split_columns: Allows columns to be split over two regions.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pixel_map = array([[ 1,  2,  3],</span>
<span class="sd">                               [ 4,  5,  6],</span>
<span class="sd">                               [ 7,  8,  9],</span>
<span class="sd">                               [10, 11, 12],</span>
<span class="sd">                               [13, 14, 15],</span>
<span class="sd">                               [16, 17, 18]])</span>
<span class="sd">        &gt;&gt;&gt; gs = GridSelection(3, 1, split_pixels=False)</span>
<span class="sd">        &gt;&gt;&gt; matrices = gs.find_grid(pixel_map)</span>
<span class="sd">        &gt;&gt;&gt; matrices[0] * pixel_map</span>
<span class="sd">        array([[1, 2, 3],</span>
<span class="sd">               [4, 5, 6],</span>
<span class="sd">               [0, 0, 0],</span>
<span class="sd">               [0, 0, 0],</span>
<span class="sd">               [0, 0, 0],</span>
<span class="sd">               [0, 0, 0]])</span>
<span class="sd">        &gt;&gt;&gt; gs.matrix_layout()</span>
<span class="sd">        array([[0],</span>
<span class="sd">               [1],</span>
<span class="sd">               [2]])</span>
<span class="sd">        &gt;&gt;&gt; gs2 = GridSelection(2, 2, split_pixels=True)</span>
<span class="sd">        &gt;&gt;&gt; matrices2 = gs.find_grid(pixel_map)</span>
<span class="sd">        &gt;&gt;&gt; gs2.matrix_layout()</span>
<span class="sd">        array([[0, 1],</span>
<span class="sd">               [2, 3]])</span>
<span class="sd">        &gt;&gt;&gt; matrices2[2]</span>
<span class="sd">        array([[0. , 0. , 0. ],</span>
<span class="sd">               [0. , 0. , 0. ],</span>
<span class="sd">               [0. , 0. , 0. ],</span>
<span class="sd">               [1. , 0.5, 0. ],</span>
<span class="sd">               [1. , 0.5, 0. ],</span>
<span class="sd">               [1. , 0.5, 0. ]])</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="GridSelection.v_split">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.GridSelection.v_split">[docs]</a>
    <span class="n">v_split</span><span class="p">:</span> <span class="nb">int</span></div>

<div class="viewcode-block" id="GridSelection.h_split">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.GridSelection.h_split">[docs]</a>
    <span class="n">h_split</span><span class="p">:</span> <span class="nb">int</span></div>

<div class="viewcode-block" id="GridSelection.split_rows">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.GridSelection.split_rows">[docs]</a>
    <span class="n">split_rows</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="GridSelection.split_columns">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.GridSelection.split_columns">[docs]</a>
    <span class="n">split_columns</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="GridSelection.ignore_nan_rows">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.GridSelection.ignore_nan_rows">[docs]</a>
    <span class="n">ignore_nan_rows</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="GridSelection.ignore_nan_columns">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.GridSelection.ignore_nan_columns">[docs]</a>
    <span class="n">ignore_nan_columns</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></div>


<div class="viewcode-block" id="GridSelection.__post_init__">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.GridSelection.__post_init__">[docs]</a>
    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">v_split</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;Invalid type for `h_split`. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Should be `int`, not </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">h_split</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">h_split</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;Invalid type for `h_split`. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Should be `int`, not </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">h_split</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">v_split</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidVerticalDivision</span><span class="p">(</span><span class="s2">&quot;`v_split` can&#39;t be smaller than 1.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_split</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidHorizontalDivision</span><span class="p">(</span><span class="s2">&quot;`h_split` can&#39;t be smaller than 1.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">split_columns</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;Invalid type for `split_columns`. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Should be bool, not </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">h_split</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">split_rows</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;Invalid type for `split_rows`. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Should be bool, not </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">h_split</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span></div>


<div class="viewcode-block" id="GridSelection.find_grid">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.GridSelection.find_grid">[docs]</a>
    <span class="k">def</span> <span class="nf">find_grid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">NDArray</span><span class="p">]:</span>
        <span class="n">function</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_grouping_vector_split_pixels</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">split_rows</span>
            <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_grouping_vector_no_split_pixels</span>
        <span class="p">)</span>
        <span class="n">horizontal_grouping_vectors</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span>
            <span class="n">data</span><span class="p">,</span> <span class="n">horizontal</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">n_groups</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">h_split</span>
        <span class="p">)</span>

        <span class="n">function</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_grouping_vector_split_pixels</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">split_columns</span>
            <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_grouping_vector_no_split_pixels</span>
        <span class="p">)</span>
        <span class="n">vertical_grouping_vectors</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span>
            <span class="n">data</span><span class="p">,</span> <span class="n">horizontal</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">n_groups</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">v_split</span>
        <span class="p">)</span>

        <span class="n">matrices</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">vertical</span><span class="p">,</span> <span class="n">horizontal</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span>
            <span class="n">vertical_grouping_vectors</span><span class="p">,</span> <span class="n">horizontal_grouping_vectors</span>
        <span class="p">):</span>
            <span class="c1"># [None, :] converts to row vector, [:, None] converts to column vector</span>
            <span class="n">matrix</span> <span class="o">=</span> <span class="n">vertical</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">@</span> <span class="n">horizontal</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">:]</span>
            <span class="n">matrix</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">data</span><span class="p">)]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
            <span class="n">matrices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">matrices</span></div>


<div class="viewcode-block" id="GridSelection._create_grouping_vector_no_split_pixels">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.GridSelection._create_grouping_vector_no_split_pixels">[docs]</a>
    <span class="k">def</span> <span class="nf">_create_grouping_vector_no_split_pixels</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-locals</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">NDArray</span><span class="p">,</span>
        <span class="n">horizontal</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">n_groups</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">NDArray</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a grouping vector to split vector into `n` groups not allowing split elements.&quot;&quot;&quot;</span>

        <span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">horizontal</span> <span class="k">else</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">horizontal</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">ignore_nan_columns</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="n">horizontal</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">ignore_nan_rows</span>
        <span class="p">):</span>
            <span class="n">is_numeric</span> <span class="o">=</span> <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="n">numeric_vector_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">is_numeric</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">first_numeric_vector</span> <span class="o">=</span> <span class="n">numeric_vector_indices</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
            <span class="n">last_vector_numeric</span> <span class="o">=</span> <span class="n">numeric_vector_indices</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">first_numeric_vector</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">last_vector_numeric</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span> <span class="o">-</span> <span class="n">axis</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>

        <span class="n">n_vectors</span> <span class="o">=</span> <span class="n">last_vector_numeric</span> <span class="o">-</span> <span class="n">first_numeric_vector</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">n_groups</span> <span class="o">&gt;</span> <span class="n">n_vectors</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">horizontal</span><span class="p">:</span>  <span class="c1"># pylint: disable=no-else-raise</span>
                <span class="k">raise</span> <span class="n">InvalidHorizontalDivision</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The number horizontal regions is larger than the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;number of available columns (</span><span class="si">{</span><span class="n">n_vectors</span><span class="si">}</span><span class="s2">).&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InvalidVerticalDivision</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The number vertical regions is larger than the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;number of available rows (</span><span class="si">{</span><span class="n">n_vectors</span><span class="si">}</span><span class="s2">).&quot;</span>
                <span class="p">)</span>

        <span class="n">n_vectors_per_region</span> <span class="o">=</span> <span class="n">n_vectors</span> <span class="o">/</span> <span class="n">n_groups</span>

        <span class="k">if</span> <span class="n">n_vectors_per_region</span> <span class="o">%</span> <span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">horizontal</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The horizontal regions will not have an equal number of &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;columns. </span><span class="si">{</span><span class="n">n_vectors</span><span class="si">}</span><span class="s2"> is not equally divisible by </span><span class="si">{</span><span class="n">n_groups</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
                    <span class="n">UnevenHorizontalDivision</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The vertical regions will not have an equal number of &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;columns. </span><span class="si">{</span><span class="n">n_vectors</span><span class="si">}</span><span class="s2"> is not equally divisible by </span><span class="si">{</span><span class="n">n_groups</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
                    <span class="n">UnevenVerticalDivision</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="n">region_boundaries</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">first_numeric_vector</span>
            <span class="o">+</span> <span class="n">bisect</span><span class="o">.</span><span class="n">bisect_left</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_vectors</span><span class="p">)</span> <span class="o">/</span> <span class="n">n_vectors_per_region</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_groups</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">vectors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">pairwise</span><span class="p">(</span><span class="n">region_boundaries</span><span class="p">):</span>
            <span class="n">vector</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span> <span class="o">-</span> <span class="n">axis</span><span class="p">])</span>
            <span class="n">vector</span><span class="p">[:</span><span class="n">start</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="n">vector</span><span class="p">[</span><span class="n">end</span><span class="p">:]</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="n">vectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vector</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">vectors</span></div>


<div class="viewcode-block" id="GridSelection._create_grouping_vector_split_pixels">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.GridSelection._create_grouping_vector_split_pixels">[docs]</a>
    <span class="k">def</span> <span class="nf">_create_grouping_vector_split_pixels</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-locals</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">matrix</span><span class="p">:</span> <span class="n">NDArray</span><span class="p">,</span>
        <span class="n">horizontal</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">n_groups</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">NDArray</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a grouping vector to split vector into `n` groups allowing split elements.&quot;&quot;&quot;</span>

        <span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">horizontal</span> <span class="k">else</span> <span class="mi">1</span>

        <span class="c1"># create a vector that is nan if the entire column/row is nan, 1 otherwise</span>
        <span class="n">vector_is_nan</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">matrix</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>
        <span class="n">vector</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">vector_is_nan</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">horizontal</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">ignore_nan_columns</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="n">horizontal</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">ignore_nan_rows</span>
        <span class="p">):</span>
            <span class="n">vector</span><span class="p">[</span><span class="n">vector_is_nan</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

            <span class="c1"># remove non-numeric (nan) elements at vector ends</span>
            <span class="c1"># nan elements between numeric elements are kept</span>
            <span class="n">numeric_element_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">vector</span><span class="p">))</span>
            <span class="n">first_num_element</span> <span class="o">=</span> <span class="n">numeric_element_indices</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
            <span class="n">last_num_element</span> <span class="o">=</span> <span class="n">numeric_element_indices</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">first_num_element</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">last_num_element</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">vector</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

        <span class="n">n_elements</span> <span class="o">=</span> <span class="n">last_num_element</span> <span class="o">-</span> <span class="n">first_num_element</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="n">group_size</span> <span class="o">=</span> <span class="n">n_elements</span> <span class="o">/</span> <span class="n">n_groups</span>

        <span class="k">if</span> <span class="n">group_size</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">horizontal</span><span class="p">:</span>  <span class="c1"># pylint: disable=no-else-raise</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The number horizontal regions (</span><span class="si">{</span><span class="n">n_groups</span><span class="si">}</span><span class="s2">) is larger than the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;number of available columns (</span><span class="si">{</span><span class="n">n_elements</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">,</span>
                    <span class="n">MoreHorizontalGroupsThanColumns</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The number vertical regions (</span><span class="si">{</span><span class="n">n_groups</span><span class="si">}</span><span class="s2">) is larger than the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;number of available rows (</span><span class="si">{</span><span class="n">n_elements</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">,</span>
                    <span class="n">MoreVerticalGroupsThanRows</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="c1"># find the right boundaries (upper values) of each group</span>
        <span class="n">right_boundaries</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_groups</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">group_size</span>
        <span class="n">right_boundaries</span> <span class="o">=</span> <span class="n">right_boundaries</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">]</span>  <span class="c1"># converts it to a row vector</span>

        <span class="c1"># each row in the base represents one group</span>
        <span class="n">base</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_elements</span><span class="p">),</span> <span class="p">(</span><span class="n">n_groups</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

        <span class="c1"># if the element number is higher than the split, it does not belong in this group</span>
        <span class="n">element_contribution_to_group</span> <span class="o">=</span> <span class="n">right_boundaries</span> <span class="o">-</span> <span class="n">base</span>
        <span class="n">element_contribution_to_group</span><span class="p">[</span><span class="n">element_contribution_to_group</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># if the element to the right is a full group size, this element is ruled out</span>
        <span class="n">rule_out</span> <span class="o">=</span> <span class="n">element_contribution_to_group</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:]</span> <span class="o">&gt;=</span> <span class="n">group_size</span>
        <span class="n">element_contribution_to_group</span><span class="p">[:,</span> <span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">rule_out</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># elements have a maximum value of 1</span>
        <span class="n">element_contribution_to_group</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fmin</span><span class="p">(</span><span class="n">element_contribution_to_group</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># if this element is already represented in the previous group (row), subtract that</span>
        <span class="n">element_contribution_to_group</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">-=</span> <span class="n">element_contribution_to_group</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">element_contribution_to_group</span><span class="p">[</span><span class="n">element_contribution_to_group</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># element_contribution_to_group only represents non-nan elements</span>
        <span class="c1"># insert into final including non-nan elements</span>
        <span class="n">final</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="n">n_groups</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">vector</span><span class="p">)),</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
        <span class="n">final</span><span class="p">[</span>
            <span class="p">:,</span> <span class="n">first_num_element</span> <span class="p">:</span> <span class="n">last_num_element</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">element_contribution_to_group</span>

        <span class="c1"># convert to list of vectors</span>
        <span class="n">final</span> <span class="o">=</span> <span class="p">[</span><span class="n">final</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">final</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span>

        <span class="k">return</span> <span class="n">final</span></div>


<div class="viewcode-block" id="GridSelection.matrix_layout">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.GridSelection.matrix_layout">[docs]</a>
    <span class="k">def</span> <span class="nf">matrix_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NDArray</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns an array showing the layout of the matrices returned by `find_grid`.&quot;&quot;&quot;</span>
        <span class="n">n_regions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">v_split</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_split</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_regions</span><span class="p">),</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">v_split</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_split</span><span class="p">))</span></div>
</div>



<div class="viewcode-block" id="InvalidDivision">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.InvalidDivision">[docs]</a>
<span class="k">class</span> <span class="nc">InvalidDivision</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the data can&#39;t be divided into regions.&quot;&quot;&quot;</span></div>



<div class="viewcode-block" id="InvalidHorizontalDivision">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.InvalidHorizontalDivision">[docs]</a>
<span class="k">class</span> <span class="nc">InvalidHorizontalDivision</span><span class="p">(</span><span class="n">InvalidDivision</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the data can&#39;t be divided into horizontal regions.&quot;&quot;&quot;</span></div>



<div class="viewcode-block" id="InvalidVerticalDivision">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.InvalidVerticalDivision">[docs]</a>
<span class="k">class</span> <span class="nc">InvalidVerticalDivision</span><span class="p">(</span><span class="n">InvalidDivision</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the data can&#39;t be divided into vertical regions.&quot;&quot;&quot;</span></div>



<div class="viewcode-block" id="DivisionWarning">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.DivisionWarning">[docs]</a>
<span class="k">class</span> <span class="nc">DivisionWarning</span><span class="p">(</span><span class="ne">Warning</span><span class="p">):</span>
    <span class="k">pass</span></div>



<div class="viewcode-block" id="UnevenDivision">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.UnevenDivision">[docs]</a>
<span class="k">class</span> <span class="nc">UnevenDivision</span><span class="p">(</span><span class="n">DivisionWarning</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Warning for when a grid selection results in groups of uneven size.&quot;&quot;&quot;</span></div>



<div class="viewcode-block" id="UnevenHorizontalDivision">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.UnevenHorizontalDivision">[docs]</a>
<span class="k">class</span> <span class="nc">UnevenHorizontalDivision</span><span class="p">(</span><span class="n">UnevenDivision</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Warning for when a grid selection results in horizontal groups of uneven size.&quot;&quot;&quot;</span></div>



<div class="viewcode-block" id="UnevenVerticalDivision">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.UnevenVerticalDivision">[docs]</a>
<span class="k">class</span> <span class="nc">UnevenVerticalDivision</span><span class="p">(</span><span class="n">UnevenDivision</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Warning for when a grid selection results in vertical groups of uneven size.&quot;&quot;&quot;</span></div>



<div class="viewcode-block" id="MoreGroupsThanVectors">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.MoreGroupsThanVectors">[docs]</a>
<span class="k">class</span> <span class="nc">MoreGroupsThanVectors</span><span class="p">(</span><span class="n">DivisionWarning</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Warning for when the groups outnumber the available vectors.&quot;&quot;&quot;</span></div>



<div class="viewcode-block" id="MoreVerticalGroupsThanRows">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.MoreVerticalGroupsThanRows">[docs]</a>
<span class="k">class</span> <span class="nc">MoreVerticalGroupsThanRows</span><span class="p">(</span><span class="n">MoreGroupsThanVectors</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Warning for when the vertical groups outnumber the available rows.&quot;&quot;&quot;</span></div>



<div class="viewcode-block" id="MoreHorizontalGroupsThanColumns">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.MoreHorizontalGroupsThanColumns">[docs]</a>
<span class="k">class</span> <span class="nc">MoreHorizontalGroupsThanColumns</span><span class="p">(</span><span class="n">MoreGroupsThanVectors</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Warning for when the horizontal groups outnumber the available rows.&quot;&quot;&quot;</span></div>



<span class="nd">@dataclass</span>
<div class="viewcode-block" id="VentralAndDorsal">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.VentralAndDorsal">[docs]</a>
<span class="k">class</span> <span class="nc">VentralAndDorsal</span><span class="p">(</span><span class="n">GridSelection</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Split data into a ventral and dorsal region of interest.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="VentralAndDorsal.v_split">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.VentralAndDorsal.v_split">[docs]</a>
    <span class="n">v_split</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="VentralAndDorsal.h_split">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.VentralAndDorsal.h_split">[docs]</a>
    <span class="n">h_split</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="VentralAndDorsal.split_rows">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.VentralAndDorsal.split_rows">[docs]</a>
    <span class="n">split_rows</span> <span class="o">=</span> <span class="kc">True</span></div>
</div>



<span class="nd">@dataclass</span>
<div class="viewcode-block" id="RightAndLeft">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.RightAndLeft">[docs]</a>
<span class="k">class</span> <span class="nc">RightAndLeft</span><span class="p">(</span><span class="n">GridSelection</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Split data into a right and left region of interest.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="RightAndLeft.v_split">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.RightAndLeft.v_split">[docs]</a>
    <span class="n">v_split</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="RightAndLeft.h_split">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.RightAndLeft.h_split">[docs]</a>
    <span class="n">h_split</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="RightAndLeft.split_columns">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.RightAndLeft.split_columns">[docs]</a>
    <span class="n">split_columns</span> <span class="o">=</span> <span class="kc">False</span></div>
</div>



<span class="nd">@dataclass</span>
<div class="viewcode-block" id="FourLayers">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.FourLayers">[docs]</a>
<span class="k">class</span> <span class="nc">FourLayers</span><span class="p">(</span><span class="n">GridSelection</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Split data vertically into four layer regions of interest.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="FourLayers.v_split">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.FourLayers.v_split">[docs]</a>
    <span class="n">v_split</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="FourLayers.h_split">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.FourLayers.h_split">[docs]</a>
    <span class="n">h_split</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="FourLayers.split_rows">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.FourLayers.split_rows">[docs]</a>
    <span class="n">split_rows</span> <span class="o">=</span> <span class="kc">True</span></div>
</div>



<span class="nd">@dataclass</span>
<div class="viewcode-block" id="Quadrants">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.Quadrants">[docs]</a>
<span class="k">class</span> <span class="nc">Quadrants</span><span class="p">(</span><span class="n">GridSelection</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Split data into four quadrant regions of interest.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="Quadrants.v_split">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.Quadrants.v_split">[docs]</a>
    <span class="n">v_split</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="Quadrants.h_split">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.Quadrants.h_split">[docs]</a>
    <span class="n">h_split</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="Quadrants.split_columns">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.Quadrants.split_columns">[docs]</a>
    <span class="n">split_columns</span> <span class="o">=</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="Quadrants.split_rows">
<a class="viewcode-back" href="../../../autoapi/eitprocessing/roi_selection/gridselection/index.html#eitprocessing.roi_selection.gridselection.Quadrants.split_rows">[docs]</a>
    <span class="n">split_rows</span> <span class="o">=</span> <span class="kc">True</span></div>
</div>

</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">eitprocessing 0.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../eitprocessing.html" >eitprocessing</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../roi_selection.html" >eitprocessing.roi_selection</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">eitprocessing.roi_selection.gridselection</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2023, Netherlands eScience Center, Erasmus MC.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>